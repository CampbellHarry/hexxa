<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hexxa</title>
    <link rel="icon" href="/assets/images/favicon.png">
    <link rel="stylesheet" href="/assets/css/header.css">
    <link rel="stylesheet" href="/assets/css/footer.css">
    <link rel="stylesheet" href="/assets/css/dash.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.4.4/purify.min.js"></script>
</head>
<body>
    <header>
        <img src="/assets/images/favicon.png" alt="Hexxa Logo" height="100px">
        <div class="search-container">
            <div class="search-box">
                <input type="text" placeholder="Search for products, brands and more with Hexxa">
                <button>Search</button>
            </div>
        </div>
        <div class="basket">
            <img src="/assets/images/shoppingb.png" height="50px" alt="Basket" class="basket">
                <p id="basketcount">0</p>
        </div>
        <nav>
            <ul class="nav-links">
                <li class="box"><a class="text" href="/signup">Sign-up</a></li>
                <li class="box"><a class="text" href="/">Home</a></li>
                <li class="box"><a class="text" href="/shopping">Shopping</a></li>
                <li class="box"><a class="text" href="/allitems">All Items</a></li>
                <li class="box"><a class="text" href="/sell">Sell an Item</a></li>
                <li class="box"><a class="text" href="/dashboard">Manage Your Items</a></li>
                <li class="box"><a class="text" href="#customer-service">Customer Service</a></li>
                <li class="box"><a class="text" href="#contact">Contact</a></li>
            </ul>
            <div class="burger-menu">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
            </div>
        </nav>
</header>
    <main>
        <section class="welcome1">
            <div><h1 class="username"></h1></div>
        </section>
        <section class="items">
            <div><h2 class="itemnumbers"></h2></div>
        </section>
        <section class="seeitems">
            <div class="containerr">
                <div class="item">
                    <div class="itemt">
                      <h3>${item.productName}</h3>
                    </div>
                    <div class="itemd">
                      <p>${item.description}</p>
                    </div>
                    <div class="itemp">
                      <p>Â£${item.price}</p>
                    </div>
                    <div class="options">
                      <button class="instock" onclick="togglePopup('stockPopup')">Is the item in stock?</button>
                      <button class="price" onclick="togglePopup('pricePopup')">Change Price</button>
                      <button class="title" onclick="togglePopup('titlePopup')">Change Title</button>
                      <button class="description" onclick="togglePopup('descriptionPopup')">Change Description</button>
                      <button class="delete" onclick="togglePopup('deletePopup')">Delete Item</button>
                    </div>
                  </div>
                  </div>
                  </section>
                  <!-- Title Popup -->
                  <div id="titlePopup" class="popup">
                    <h2>Title Popup</h2>
                    <h3>Change the title of your item</h3>
                    <p>Currently it is ${item.productName}</p>
                    <form action="/changeTitle" method="POST">
                      <input type="hidden" name="itemId" value="your_item_id_here">
                      <input type="text" name="newTitle" placeholder="Product Name" maxlength="40" required>
                      <button type="submit" class="closebtn">Close</button>
                    </form>
                  </div>
              
                  <!-- Description Popup -->
                  <div id="descriptionPopup" class="popup">
                    <h2>Description Popup</h2>
                    <h3>Change the description of your item</h3>
                    <p>Currently it is ${item.description}</p>
                    <input type="text" id="description" name="description" placeholder="Description" maxlength="100" required>
                    <button class="closebtn" onclick="closePopup('descriptionPopup')">Close</button>
                  </div>
              
                  <!-- Delete Popup -->
                  <div id="deletePopup" class="popup">
                    <h2>Delete Popup</h2>
                    <h3>Are you sure you want to delete this item?</h3>
                    <button class="delete1">Delete</button>
                    <button class="closebtn" onclick="closePopup('deletePopup')">Close</button>
                  </div>
                  <!-- Overlay -->
                  <div id="overlay" class="overlay"></div>
            </div>
        </section>
        
        <script>
            function togglePopup(popupId) {
                var popup = document.getElementById(popupId);
                var overlay = document.getElementById('overlay');
    
                popup.style.display = 'block';
                overlay.style.display = 'block';
            }
    
            function closePopup(popupId) {
                var popup = document.getElementById(popupId);
                var overlay = document.getElementById('overlay');
    
                popup.style.display = 'none';
                overlay.style.display = 'none';
            }
        </script>
        
    </main>
</main>
<footer>
    <div class="footer-container">
        <div class="footer-section">
            <h3>About Hexxa</h3>
            <p>Hexxa is an online marketplace that offers a wide range of products from electronics to clothing. We have a wide range of brands to choose from and we are committed to providing our customers with the best shopping experience possible.</p>
        </div>
        <div class="footer-section">
            <h3>Customer Service</h3>
            <ul>
                <li><a href="#">Contact Us</a></li>
                <li><a href="#">FAQs</a></li>
                <li><a href="#">Returns &amp; Refunds</a></li>
                <li><a href="#">Shipping &amp; Delivery</a></li>
            </ul>
        </div>
        <div class="footer-section">
            <h3>Connect with Us</h3>
            <ul>
                <li><a href="#">Facebook</a></li>
                <li><a href="#">Twitter</a></li>
                <li><a href="#">Instagram</a></li>
                <li><a href="#">Linkedin</a></li>
            </ul>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2023 Hexxa. All Rights Reserved.</p><p>Terms &amp; Conditions | Privacy Policy</p><p>Hexxa is apart of the hdev group</p>
        </p>
    </div>
</footer>
<script>
    fetch('/getUsername')
      .then(response => response.json())
      .then(data => {
        var usernameElement = document.getElementById("username");
        usernameElement.innerHTML = data.username;
      })
      .catch(error => console.error('Error:', error));
  </script>
      <script>
        const burgerMenu = document.querySelector('.burger-menu');
        const navLinks = document.querySelector('.nav-links');
        const links = document.querySelectorAll('.nav-links li');

        burgerMenu.addEventListener('click', () => {
            // Toggle Nav
            navLinks.classList.toggle('nav-active');

            // Animate Links
            links.forEach((link, index) => {
                if (link.style.animation) {
                    link.style.animation = '';
                } else {
                    link.style.animation = `navLinkFade 0.5s ease forwards ${index / 7 + 0.3}s`;
                }
            });

            // Burger Animation
            burgerMenu.classList.toggle('toggle');
        });
    </script>
    <script>
        
    </script>
    <script src="/backend/basca.js"></script>
    <script>
        const basket = document.querySelector('.basket');
        basket.addEventListener('click', () => {
            window.location.href = '/basket';
        });
    </script>
    <script src="/backend/dash.js"></script>
</body>
</html>