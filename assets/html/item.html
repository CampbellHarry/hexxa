<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hexxa</title>
    <link rel="icon" href="/assets/images/favicon.png">
    <link rel="stylesheet" href="/assets/css/header.css">
    <link rel="stylesheet" href="/assets/css/footer.css">
    <link rel="stylesheet" href="/assets/css/items.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.4.4/purify.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>
<body>
    <header>
        <img src="/assets/images/favicon.png" alt="Hexxa Logo" height="100px">
        <div class="search-container">
            <div class="search-box">
                <input type="text" placeholder="Search for products, brands and more with Hexxa">
                <button>Search</button>
            </div>
        </div>
        <div class="basket">
            <img src="/assets/images/shoppingb.png" height="50px" alt="Basket" class="basket">
                <p id="basketcount">0</p>
        </div>
        <nav>
            <ul class="nav-links">
                <li class="box"><a class="text" href="">Welcome <span id="username"></span>!</a></li>
                <li class="box"><a class="text" href="/">Home</a></li>
                <li class="box"><a class="text" href="/shopping">Shopping</a></li>
                <li class="box"><a class="text" href="/allitems">All Items</a></li>
                <li class="box"><a class="text" href="/sell">Sell an Item</a></li>
                <li class="box"><a class="text" href="/dashboard">Manage Your Items</a></li>
                <li class="box"><a class="text" href="#customer-service">Customer Service</a></li>
                <li class="box"><a class="text" href="#contact">Contact</a></li>
            </ul>
            <div class="burger-menu">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
            </div>
        </nav>
</header>
    <main>
        <section class="product-image-container">
            <img src="/assets/images/hexxa.png" alt="Product Image">
        </section>
        <section class="product-info-container">
          <div class="item">
            <h2 id="name">${product.productName}</h2>
            <div id="reviews">Reviews: ${product.reviews}</div>
            <div id="seller">Seller: ${product.seller}</div>
            <hr>
            <p id="price1">£${product.price}</p>
            <hr>
            <p id="description">${product.description}</p>
          </div>
        </section>
        <section class="buy-container">
          <div class="buysection">
            <div id="approved" style="border: ${product.approved ? 'border: 1px solid #005700;' : '2px solid red'}" onclick="popdown()">
                THIS SELLER IS <span>${product.approved ? 'APPROVED' : 'NOT APPROVED'}</span>
            </div>
                ${product.approved ? `
                <div id="moreinfo">
                    <img src="/assets/images/authorised.png" width="50px"><h2>Verified Seller</h2><p>Approved sellers are sellers that have been approved by Hexxa. This means that they have been verified and are trusted sellers.</p>
                </div>
                ` : ''}
            <div id="role" style="border: ${product.sellerrole === 'owner' ? 'border: 1px solid #FFD700; color: #FFD700;' : product.sellerrole === 'developer' ? 'border: 1px solid #800080; color: #800080;' : product.sellerrole === 'moderator' ? 'border: 1px solid #008000; color: #008000;' : product.sellerrole === 'support' ? 'border: 1px solid #87CEEB; color: #87CEEB;' : product.sellerrole === 'user' ? 'border: 1px solid #008080; color: ;008080;' : '2px solid #008080; color: ;008080;'}">
                THIS SELLER IS <span>${product.sellerrole === 'owner' ? 'AN OWNER' : product.sellerrole === 'developer' ? 'A DEVELOPER' : product.sellerrole === 'moderator' ? 'A MODERATOR' : product.sellerrole === 'support' ? 'A SUPPORT AGENT' : product.sellerrole === 'user' ? 'A USER' : 'USER'}</span>
            </div>                 
            <hr>
            <div id="price">Price: £${product.price}</div>
            <div id="delivery">Delivery: ${product.delivery}</div>
            <hr>
            <div id="instock">${product.inStock ? 'In stock' : 'Out of stock'}</div>
            <hr>
            <button class="add-to-basket" data-product-id="${product.productId}">Add to Basket</button>
            <button id="buynow">Buy Now</button>
          </div>
        </section>
        </main>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <section id="reviewsac">
            <h2>Reviews</h2>
            <form>
                <label for="review">Write a review:</label>
                <textarea id="review" name="review" rows="4" cols="50" maxlength="300"></textarea>
                <label for="rating">Rating:</label>
                <select id="rating" name="rating">
                    <option value="1">1 Star</option>
                    <option value="2">2 Stars</option>
                    <option value="3">3 Stars</option>
                    <option value="4">4 Stars</option>
                    <option value="5">5 Stars</option>
                </select>
                <input type="submit" value="Submit">
            </form>
            <div class="reviews-container">
                <div class="review">
                    <h3>TEST</h3>
                    <p>TEST</p>
                    <p class="reviewer">- Thor</p>
                    <div class="stars">
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star"></span>
                    </div>
                </div>
                <div class="review">
                    <h3>TEST</h3>
                    <p>TEST</p>
                    <p class="reviewer">- Harry Campbell</p>
                    <div class="stars">
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star"></span>
                        <span class="fa fa-star"></span>
                        <span class="fa fa-star"></span>
                        <span class="fa fa-star"></span>
                    </div>
                </div>
            </div>
        </section>
        <section id="qna">
            <h2>Q&A</h2>
            <div class="qna-container">
                <div class="question">
                    <h3>What is the warranty on this product?</h3>
                    <p>The warranty on this product is one year.</p>
                </div>
                <div class="question">
                    <h3>Does this product come with a user manual?</h3>
                    <p>Yes, this product comes with a user manual.</p>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h3>About Hexxa</h3>
                <p>Hexxa is an online marketplace that offers a wide range of products from electronics to clothing. We have a wide range of brands to choose from and we are committed to providing our customers with the best shopping experience possible.</p>
            </div>
            <div class="footer-section">
                <h3>Customer Service</h3>
                <ul>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">FAQs</a></li>
                    <li><a href="#">Returns &amp; Refunds</a></li>
                    <li><a href="#">Shipping &amp; Delivery</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Connect with Us</h3>
                <ul>
                    <li><a href="#">Facebook</a></li>
                    <li><a href="#">Twitter</a></li>
                    <li><a href="#">Instagram</a></li>
                    <li><a href="#">Linkedin</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2023 Hexxa. All Rights Reserved.</p><p>Terms &amp; Conditions | Privacy Policy</p><p>Hexxa is apart of the hdev group</p>
            </p>
        </div>
    </footer>
    <script>
      fetch('/getUsername')
    .then(response => response.json())
    .then(data => {
      var usernameElement = document.getElementById("username");
      usernameElement.innerHTML = data.username;
    })
    .catch(error => console.error('Error:', error));
  </script>
  <script src="/backend/basca.js"></script>
  <script hidden>
  const burgerMenu = document.querySelector('.burger-menu');
  const navLinks = document.querySelector('.nav-links');
  const links = document.querySelectorAll('.nav-links li');

  burgerMenu.addEventListener('click', () => {
      // Toggle Nav
      navLinks.classList.toggle('nav-active');

      // Burger Animation
      burgerMenu.classList.toggle('toggle');

      // Hide navLinks when it's not active
      if (!navLinks.classList.contains('nav-active')) {
          navLinks.style.display = 'none';
      } else {
          navLinks.style.display = 'block';
      }
  });
</script>
<script>
const popdown = () => {
    var popup = document.getElementById("moreinfo");
    if (popup.style.display === "none") {
        popup.style.display = "block";
    } else {
        popup.style.display = "none";
    }
}

</script>
<script src="/backend/basca.js"></script>
</body>
</html>